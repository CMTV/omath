"use strict";var _temp;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}SITE.Classes.TOC=_temp=function(){function n(){var r=this;_classCallCheck(this,n),_defineProperty(this,"headers",void 0),_defineProperty(this,"tocHeaders",{}),_defineProperty(this,"currentHeader",null);for(var e="",t=1;t<=6;t++)e+="h".concat(t,"[id]"),6!==t&&(e+=",");this.headers=document.querySelectorAll(e),0!==this.headers.length&&(this.headers.forEach(function(e,t){e=e.getAttribute("id"),e=document.querySelector('.tree.toc a[href="#'.concat(e,'"]'));null!==e&&(r.tocHeaders[t]=e)}),window.addEventListener("resize",function(){return r.updateActive()}),window.addEventListener("scroll",function(){return r.updateActive()}),this.updateActive())}return _createClass(n,[{key:"updateActive",value:function(){for(var e=0,t=this.headers.length,r=0;e<t;){var n=(e+t)/2|0,i=this.headers[n].getBoundingClientRect().top+scrollY-parseFloat(window.getComputedStyle(this.headers[n])["margin-top"]);scrollY<i?t=n:e=1+(r=n)}this.setActive(r)}},{key:"setActive",value:function(e){void 0!==this.tocHeaders[e]&&(null!==this.currentHeader&&this.tocHeaders[this.currentHeader].classList.remove("_active"),this.tocHeaders[e].classList.add("_active"),this.currentHeader=e)}}]),n}(),window.addEventListener("load",function(){return new SITE.Classes.TOC});