"use strict";var _temp,_temp2,_temp3,_temp4;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}SITE.Classes.OpenNavButton=_temp=function(){function e(){var t=this;_classCallCheck(this,e),_defineProperty(this,"button",void 0),_defineProperty(this,"lastY",void 0),this.button=document.querySelector(".nav-open-button"),this.lastY=scrollY,window.addEventListener("scroll",function(){0!==scrollY?(t.isHidden(scrollY>t.lastY),t.lastY=scrollY):t.isHidden(!1)}),["load","resize"].forEach(function(e){window.addEventListener(e,function(){0===scrollY&&t.isHidden(!1)})})}return _createClass(e,[{key:"isHidden",value:function(e){this.button.classList.toggle("_hidden",e)}}]),e}(),SITE.Classes.NavPane=_temp2=function(){function t(e){_classCallCheck(this,t),_defineProperty(this,"element",void 0),_defineProperty(this,"name",void 0),_defineProperty(this,"depth",void 0),this.element=e,this.name=e.getAttribute("name"),this.depth=+e.dataset.depth}return _createClass(t,[{key:"align",value:function(e,t){var n=this,t=1<arguments.length&&void 0!==t&&t;"center"===e&&(e="current"),["_current","_left","_right"].forEach(function(e){return n.element.classList.remove(e)}),t&&this.element.classList.add("_noAnim"),this.element.classList.add("_".concat(e)),this.element.offsetHeight,this.element.classList.remove("_noAnim")}}]),t}(),SITE.Classes.Nav=_temp3=function(){function e(){var n=this;_classCallCheck(this,e),_defineProperty(this,"element",void 0),_defineProperty(this,"navSwitchers",void 0),this.element=document.querySelector("nav.menu"),this.navSwitchers=document.querySelectorAll("[data-nav-switcher]"),this.navSwitchers.forEach(function(t){t.addEventListener("click",function(){n.toggleOpened();var e=t.dataset.navSwitcher;e&&SITE.Navigation.switchPane(e,!0)})}),document.body.addEventListener("click",function(e){for(var t=0;t<n.navSwitchers.length;t++)if(n.navSwitchers[t].contains(e.target))return;n.element.contains(e.target)||n.isOpened(!1)}),this.element.querySelectorAll(".close-button").forEach(function(e){e.addEventListener("click",function(){n.close()})})}return _createClass(e,[{key:"open",value:function(){this.isOpened(!0)}},{key:"close",value:function(){this.isOpened(!1)}},{key:"toggleOpened",value:function(){this.element.classList.toggle("_opened")}},{key:"isOpened",value:function(e){this.element.classList.toggle("_opened",e)}}]),e}(),SITE.Classes.NavManager=_temp4=function(){function e(){var t=this;_classCallCheck(this,e),_defineProperty(this,"openButton",void 0),_defineProperty(this,"nav",void 0),_defineProperty(this,"panes",{}),_defineProperty(this,"rootPane",void 0),this.nav=new SITE.Classes.Nav,this.openButton=new SITE.Classes.OpenNavButton,document.querySelectorAll("nav.menu > .nav-pane").forEach(function(e){e=new SITE.Classes.NavPane(e),void 0!==(t.panes[e.name]=e).element.dataset.root&&(t.rootPane=e)})}return _createClass(e,[{key:"switchPane",value:function(n,e){var i=1<arguments.length&&void 0!==e&&e;(n=this.getPane(n)).align("center",i),Object.values(this.panes).forEach(function(e){var t;e.name!==n.name&&(t=!e.element.classList.contains("_current"),e.align(n.depth>e.depth?"left":"right",t||i))})}},{key:"switchToRoot",value:function(){this.switchPane(this.rootPane)}},{key:"getPane",value:function(e){return"string"==typeof e?this.panes[e]:e instanceof SITE.Classes.NavPane?e:void 0}}]),e}(),window.addEventListener("load",function(){SITE.Navigation=new SITE.Classes.NavManager});